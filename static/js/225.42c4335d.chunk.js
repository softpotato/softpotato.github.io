(()=>{"use strict";class t{constructor(t,e,s,r,n,o){this.key=t,this.value=e,this.oPrev=s,this.oNext=r,this.hPrev=n,this.hNext=o}}class e{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;const s=new t(null,null),r=new t(null,null);s.oNext=r,r.oPrev=s,this.maxsize=e>0?e:20,this.size=0,this.table=Array(e).fill(null),this.start=s,this.end=r;for(let n=0;n<this.table.length;n++)this.table[n]=new t(null,null)}insert(e,s){if(null==e||null==s)return;let r=this.table[this.generateHashIndex(e.hashCode)];for(;null!=r.hNext;)if(r=r.hNext,r.key.equals(e))return void this.removeAndAddToStart(r);const n=new t(e,s);r.hNext=n,n.hPrev=r,this.addToLinkedListHead(n)}removeAndAddToStart(t){null!=t.oPrev.key&&(t.oNext.oPrev=t.oPrev,t.oPrev.oNext=t.oNext,t.oNext=this.start.oNext,t.oPrev=this.start,this.start.oNext.oPrev=t,this.start.oNext=t)}addToLinkedListHead(t){if(this.size++,t.oNext=this.start.oNext,t.oPrev=this.start,this.start.oNext.oPrev=t,this.start.oNext=t,this.size>this.maxsize){this.size--;const t=this.end.oPrev;t.oPrev.oNext=t.oNext,t.oNext.oPrev=t.oPrev,t.hPrev.hNext=t.hNext,null!=t.hNext&&(t.hNext.hPrev=t.hPrev)}}has(t){if(null==t)return!1;let e=this.table[this.generateHashIndex(t.hashCode)];for(;null!=e.hNext;)if(e=e.hNext,e.key.equals(t))return!0;return null!=e.key&&t.equals(e.key)}retrieve(t){if(null==t)return null;let e=this.table[this.generateHashIndex(t.hashCode)];for(;null!=e.hNext;)if(e=e.hNext,e.key.equals(t))return this.removeAndAddToStart(e),e.value;return null}generateHashIndex(t){return t%this.maxsize}}const s={bestMatch:function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"potato";return""!==r?(t.sort((function(t,e){const n=s.stringHitCount(r,t);return s.stringHitCount(r,e)-n})),t):(t.sort((function(t,s){const r=Date.parse(t.created),n=Date.parse(s.created);return r<n?-1*(e?1:-1):n<r?1*(e?1:-1):0})),t)},title:function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.sort((function(t,s){return t.title.localeCompare(s.title)*(e?1:-1)})),t},datePosted:function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.sort((function(t,s){const r=Date.parse(t.created),n=Date.parse(s.created);return r<n?-1*(e?1:-1):n<r?1*(e?1:-1):0})),t},lastEdited:function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.sort((function(t,s){const r=Date.parse(t.updated),n=Date.parse(s.updated);return r<n?-1*(e?1:-1):n<r?1*(e?1:-1):0})),t},stringHitCount:function(t,e){const s=new RegExp(t.replace(/ +/g,"|"),"gi");let r=0;r+=((e.title||"").match(s)||[]).length,r+=((e.description||"").match(s)||[]).length;for(let n in e.pages){const t=e.pages[n];r+=this.dfsCheckContent(s,t)}return r},dfsCheckContent(t,e){if(null==e)return 0;let s=0;if(Object.hasOwn(e,"content")&&(s+=((e.content||"").match(t)||[]).length),Object.hasOwn(e,"sections"))for(let r in e.sections)s+=this.dfsCheckContent(t,r);return s}};class r{constructor(t){this.unfilteredPosts=t,this.typeGroups=Object.create(null),this.tagGroups=Object.create(null),this.programmingLanguageGroups=Object.create(null),this.publicationStatusGroups=Object.create(null),this.languageGroups=Object.create(null),this.typeGroups.tutorial=[],this.typeGroups.project=[],this.typeGroups.tool=[],this.typeGroups.other=[],this.publicationStatusGroups.completed=[],this.publicationStatusGroups.ongoing=[],this.publicationStatusGroups["not started"]=[],this.publicationStatusGroups.cancelled=[],this.publicationStatusGroups.hiatus=[],this.languageGroups.english=[];for(let e in t){const s=t[e],r=s.type.toLowerCase();r in this.typeGroups?this.typeGroups[r].push(e):this.typeGroups[r]=[e];for(let t in s.tags){const r=s.tags[t].toLowerCase();r in this.tagGroups?this.tagGroups[r].push(e):this.tagGroups[r]=[e]}for(let t in s.programming_languages){const r=s.programming_languages[t].toLowerCase();r in this.programmingLanguageGroups?this.programmingLanguageGroups[r].push(e):this.programmingLanguageGroups[r]=[e]}const n=s.status.toLowerCase();n in this.publicationStatusGroups?this.publicationStatusGroups[n].push(e):this.publicationStatusGroups[n]=[e];const o=s.language.toLowerCase();o in this.languageGroups?this.languageGroups[o].push(e):this.languageGroups[o]=[e]}for(let e in this.typeGroups)this.typeGroups[e].sort();for(let e in this.tagGroups)this.tagGroups[e].sort();for(let e in this.programmingLanguageGroups)this.programmingLanguageGroups[e].sort();for(let e in this.publicationStatusGroups)this.publicationStatusGroups[e].sort();for(let e in this.languageGroups)this.languageGroups[e].sort();this.intersectionCache=new e(20)}getTags(){return[[...Object.keys(this.typeGroups)],[...Object.keys(this.tagGroups)],[...Object.keys(this.programmingLanguageGroups)],[...Object.keys(this.publicationStatusGroups)],[...Object.keys(this.languageGroups)]]}search(t){let e=this.intersectionCache.retrieve(t.categoryGroup);null==e?(e=this.generateIntersectionData(t.categoryGroup),this.intersectionCache.insert(t.categoryGroup,[...e])):e=[...e];for(let s=0;s<e.length;s++)e[s]=this.unfilteredPosts[e[s]];Object.hasOwn(s,t.sortBy)?s[t.sortBy](e,t.ascending,t.keyword):(console.error("Invalid sort function passed in. Default sort by title."),s.datePosted(e,t.ascending,t.keyword));let r=[];if(""!==t.keyword)for(let n in e){const o=e[n];s.stringHitCount(t.keyword,o)>=1&&r.push(o)}else r=e;return r}helperGet2dArrayLength(t){let e=0;for(let s=0;s<t.length;s++)for(let r=0;r<t[s].length;r++)e++;return e}generateIntersectionData(t){let e=[];for(let a in t.iTags[0]){const s=t.iTags[0][a];s in this.typeGroups&&e.push(this.typeGroups[s])}for(let a in t.iTags[1]){const s=t.iTags[1][a];s in this.tagGroups&&e.push(this.tagGroups[s])}for(let a in t.iTags[2]){const s=t.iTags[2][a];s in this.programmingLanguageGroups&&e.push(this.programmingLanguageGroups[s])}for(let a in t.iTags[3]){const s=t.iTags[3][a];s in this.publicationStatusGroups&&e.push(this.publicationStatusGroups[s])}for(let a in t.iTags[4]){const s=t.iTags[4][a];s in this.languageGroups&&e.push(this.languageGroups[s])}let s=null;s=0===this.helperGet2dArrayLength(t.iTags)?Object.keys(this.unfilteredPosts):t.iAnd?this.generateIntersection(e):this.generateUnion(e),e=[];for(let a in t.eTags[0]){const s=t.eTags[0][a];s in this.typeGroups&&e.push(this.typeGroups[s])}for(let a in t.eTags[1]){const s=t.eTags[1][a];s in this.tagGroups&&e.push(this.tagGroups[s])}for(let a in t.eTags[2]){const s=t.eTags[2][a];s in this.programmingLanguageGroups&&e.push(this.programmingLanguageGroups[s])}for(let a in t.eTags[3]){const s=t.eTags[3][a];s in this.publicationStatusGroups&&e.push(this.publicationStatusGroups[s])}for(let a in t.eTags[4]){const s=t.eTags[4][a];s in this.languageGroups&&e.push(this.languageGroups[s])}let r=null;r=t.eAnd?this.generateIntersection(e):this.generateUnion(e);const n=[];let o=0,i=0;for(;o<s.length&&i<r.length;)-1===s[o].localeCompare(r[i])?(n.push(s[o]),o++):(1===s[o].localeCompare(r[i])||o++,i++);for(;o<s.length;)n.push(s[o]),o++;return n}generateUnion(t){return 0===t.length?t:t.reduce(((t,e)=>{const s=[];let r=0,n=0;for(;r<t.length&&n<e.length;)-1===t[r].localeCompare(e[n])?(s.push(t[r]),r++):1===t[r].localeCompare(e[n])?(s.push(e[n]),n++):(s.push(e[r]),r++,n++);for(;r<t.length;)s.push(t[r]),r++;for(;n<t.length;)s.push(e[n]),n++;return s}))}generateIntersection(t){return 0===t.length?[]:t.reduce(((t,e)=>{const s=[];let r=0,n=0;for(;r<t.length&&n<e.length;)-1===t[r].localeCompare(e[n])?r++:1===t[r].localeCompare(e[n])?n++:(s.push(t[r]),r+=1,n+=1);return s}))}}class n{constructor(){this.hashCode=1}equals(t){return null!=t&&this.hashCode===t.hashCode}}const o=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=3735928559^e,r=1103547991^e;for(let n,o=0;o<t.length;o++)n=t.charCodeAt(o),s=Math.imul(s^n,2654435761),r=Math.imul(r^n,1597334677);return s=Math.imul(s^s>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(s^s>>>13,3266489909),4294967296*(2097151&r)+(s>>>0)},i=function(t){let e=0;for(let s in t){const r=t[s];e^=o(r)}return e},a=function(t){const e=JSON.stringify(t);return o(e)};class u extends n{constructor(t,e,s,r){super(),this.iTags=t,this.iAnd=e,this.eTags=s,this.eAnd=r,this.hashCode=a([this.iTags.map((t=>i(t))).reduce(((t,e)=>t^e)),this.iAnd?"T":"F",this.eTags.map((t=>i(t))).reduce(((t,e)=>t^e)),this.eAnd?"T":"F"])}equals(t){return null!=t&&(t.hashCode===this.hashCode&&(this.iAnd===t.iAnd&&this.eAnd===t.eAnd&&(this.iTags.length===t.iTags.length&&this.eTags.length===t.eTags.length&&(!!u.helperCompare2DMatrix(this.iTags,t.iTags)&&!!u.helperCompare2DMatrix(this.eTags,t.eTags)))))}static helperCompare2DMatrix(t,e){const s=new Map;for(let r in t){const e=t[r],n=i(e);s.has(n)?s.get(n).push(e):s.set(n,[e])}for(let r in e){const t=e[r],n=i(t);if(!s.has(n))return!1;let o=!1;for(let e in s.get(n))if(u.compareUnorderedSets(t,e)){o=!0;break}if(!o)return!1}return!0}static compareUnorderedSets(t,e){if(t.length!==e.length)return!1;const s=new Set;for(let r in t)s.add(r);for(let r in e)if(!s.has(r))return!1;return!0}get copy(){const t=[],e=[];for(let s in this.iTags)t.push([...s]);for(let s in this.eTags)e.push([...s]);return new u(t,this.inclusionAnd,e,this.exclusionAnd)}}class h extends n{constructor(t,e,s,r,n,o,i){super(),this.keyword=t,this.sortBy=e,this.ascending=s,this.categoryGroup=new u(r,n,o,i),this.hashCode=a([this.keyword,this.sortBy,this.ascending?"T":"F",this.categoryGroup.hashCode])}equals(t){return null==t?(console.error("null comparison"),!1):this.hashCode===t.hashCode&&(this.keyword===t.keyword&&(this.sortBy===t.sortBy&&(this.ascending===t.ascending&&this.categoryGroup.equals(t.categoryGroupCopy))))}static addMethodsToDummy(t){return new h(t.keyword,t.sortBy,t.ascending,t.categoryGroup.iTags,t.categoryGroup.iAnd,t.categoryGroup.eTags,t.categoryGroup.eAnd)}}self.initialized=!1,self.postStore=null,self.onmessage=t=>{if(self.initialized){const e=self.postStore.search(h.addMethodsToDummy(t.data));postMessage({key:t.data,value:e})}else self.initialized=!0,self.postStore=new r(t.data),postMessage(self.postStore.getTags())}})();
//# sourceMappingURL=225.42c4335d.chunk.js.map